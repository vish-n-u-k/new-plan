{
  "contractVersion": "v1.0.0",
  "status": "draft",
  "generatedFrom": ["M-AUTH", "M-PROFILE", "M-RESGEN", "M-EDITOR", "M-RESMGMT", "M-SETTINGS"],

  "appShell": {
    "layout": "sidebar-left",
    "regions": [
      {
        "id": "sidebar",
        "position": "left",
        "width": "256px",
        "collapsible": true,
        "description": "Primary navigation sidebar. Visible only when user is authenticated."
      },
      {
        "id": "header",
        "position": "top",
        "height": "64px",
        "description": "Top bar with app logo, user avatar/menu, and global actions (logout)."
      },
      {
        "id": "main",
        "position": "center",
        "description": "Primary content area. Module screens render here."
      }
    ]
  },

  "navigation": {
    "defaultRoute": {
      "authenticated": "/profile",
      "unauthenticated": "/auth/login"
    },
    "sidebar": {
      "groups": [
        {
          "id": "nav-profile",
          "label": "Profile",
          "icon": "user-circle",
          "order": 2,
          "moduleId": "M-PROFILE",
          "route": "/profile",
          "children": [
            {
              "id": "nav-profile-dashboard",
              "label": "Profile Dashboard",
              "route": "/profile",
              "screenId": "S-PROF-01"
            },
            {
              "id": "nav-profile-contact",
              "label": "Contact Information",
              "route": "/profile/contact",
              "screenId": "S-PROF-06"
            },
            {
              "id": "nav-profile-skills",
              "label": "Skills",
              "route": "/profile/skills",
              "screenId": "S-PROF-02"
            },
            {
              "id": "nav-profile-experience",
              "label": "Experience",
              "route": "/profile/experience",
              "screenId": "S-PROF-03"
            },
            {
              "id": "nav-profile-education",
              "label": "Education",
              "route": "/profile/education",
              "screenId": "S-PROF-04"
            },
            {
              "id": "nav-profile-resume-upload",
              "label": "Resume Upload",
              "route": "/profile/resume-upload",
              "screenId": "S-PROF-05"
            }
          ]
        },
        {
          "id": "grp-resmgmt",
          "label": "My Resumes",
          "icon": "FileText",
          "order": 3,
          "moduleId": "M-RESMGMT",
          "route": "/resumes",
          "children": [
            {
              "id": "nav-resmgmt-dashboard",
              "label": "My Resumes",
              "route": "/resumes",
              "screenId": "S-RESMGMT-01"
            }
          ]
        },
        {
          "id": "grp-resgen",
          "label": "Generate Resume",
          "icon": "file-plus",
          "order": 4,
          "moduleId": "M-RESGEN",
          "route": "/generate",
          "children": [
            {
              "id": "nav-resgen-start",
              "label": "Generate Resume",
              "route": "/generate",
              "screenId": "S-RESGEN-01"
            }
          ]
        },
        {
          "id": "grp-settings",
          "label": "Settings",
          "icon": "settings",
          "order": 90,
          "moduleId": "M-SETTINGS",
          "route": "/settings",
          "children": [
            {
              "id": "nav-settings-main",
              "label": "Settings",
              "route": "/settings",
              "screenId": "S-SET-01"
            }
          ]
        }
      ]
    },
    "invisibleModules": [
      {
        "moduleId": "M-AUTH",
        "reason": "Pre-login flow, no sidebar entry. Auth screens use standalone centered layout without the authenticated shell."
      },
      {
        "moduleId": "M-EDITOR",
        "reason": "Contextual flow accessed from Resume Generation (after AI generates content) or Resume Management (re-edit). Not directly accessible from the sidebar."
      }
    ]
  },

  "routeGuards": [
    {
      "pattern": "/auth/signup",
      "auth": "public",
      "redirectIfAuthenticated": "/profile"
    },
    {
      "pattern": "/auth/login",
      "auth": "public",
      "redirectIfAuthenticated": "/profile"
    },
    {
      "pattern": "/auth/forgot-password",
      "auth": "public",
      "redirectIfAuthenticated": "/profile"
    },
    {
      "pattern": "/auth/forgot-password/confirmation",
      "auth": "public",
      "redirectIfAuthenticated": "/profile"
    },
    {
      "pattern": "/auth/reset-password",
      "auth": "public",
      "redirectIfAuthenticated": "/profile"
    },
    {
      "pattern": "/**",
      "auth": "required",
      "redirectIfUnauthenticated": "/auth/login"
    }
  ],

  "sharedUIConventions": {
    "toastPosition": "top-right",
    "modalOverlay": true,
    "loadingStrategy": "skeleton",
    "errorBoundary": "per-route",
    "breadcrumbs": {
      "enabled": true,
      "separator": "/"
    }
  }
}
